#!/bin/bash

# Shell script for writing git commit version info to file
# For use in Hopsan


filedst="$1"
name="$2"
shorthash="$3"
datedottime="$4"
hguard=${name}GITVERSION_H_INCLUDED


echo "// This file has been automatically generated by $(basename $0)" > ${filedst}
echo "// \$Id\$" >> ${filedst}
echo "#ifndef" $hguard >> ${filedst}
echo "#define" $hguard >> ${filedst}
echo "#define" ${name}_COMMIT_HASH ${shorthash} >> ${filedst}
echo "#define" ${name}_COMMIT_TIMESTAMP ${datedottime} >> ${filedst}
echo "#endif" >> ${filedst}

<?xml version="1.0" encoding="UTF-8"?>
<hopsanmodelfile hmfversion="0.4" hopsanguiversion="0.6.x_r5290" hopsancoreversion="0.6.x_r5281">
  <requirements>
    <componentlibrary>HopsanDefaultComponentLibrary</componentlibrary>
    <componentlibrary>PettersComponentLibrary</componentlibrary>
  </requirements>
  <info/>
  <system logsamples="2048" typename="Subsystem" name="ElectricPWMeqTest">
    <simulationtime stop="10" timestep="0.001" start="0" inherit_timestep="true"/>
    <parameters/>
    <aliases/>
    <hopsangui>
      <pose x="0" y="0" flipped="false" a="0"/>
      <nametext position="0" visible="1"/>
      <animation flowspeed="100"/>
      <viewport x="2514.77" y="2241.03" zoom="0.597271"/>
      <ports hidden="1"/>
      <names hidden="1"/>
      <graphics type="user"/>
      <scriptfile path=""/>
      <hopsanobjectappearance version="0.3">
        <modelobject typename="Subsystem" displayname="ElectricPWMeqTest">
          <icons>
            <icon path="subsystemDefault.svg" type="defaultmissing"/>
          </icons>
          <ports/>
          <animation flowspeed="100"/>
        </modelobject>
      </hopsanobjectappearance>
      <favoritevariables/>
      <optimization>
        <settings>
          <niter>100</niter>
          <nsearchp>8</nsearchp>
          <refcoeff>1.3</refcoeff>
          <randfac>0.3</randfac>
          <forgfac>0</forgfac>
          <functol>1e-05</functol>
          <partol>0.0001</partol>
          <plot>true</plot>
          <savecsv>false</savecsv>
          <logpar>false</logpar>
        </settings>
        <parameters/>
        <objectives/>
      </optimization>
    </hopsangui>
    <objects>
      <component typename="SignalSink" name="Scope">
        <parameters>
          <parameter unit="-" value="0" type="double" name="in_bottom::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="in_right"/>
          <port nodetype="NodeSignal" name="in"/>
          <port nodetype="NodeSignal" name="in_bottom"/>
        </ports>
        <hopsangui>
          <pose x="2509" y="2261" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalSink" displayname="Scope">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricResistor" name="Resistor">
        <parameters>
          <parameter unit="A/V" value="0.1" type="double" name="Conduct"/>
        </parameters>
        <ports>
          <port nodetype="NodeElectric" name="Pel1"/>
          <port nodetype="NodeElectric" name="Pel2"/>
        </ports>
        <hopsangui>
          <pose x="2403.187434" y="2459.625132" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricResistor" displayname="Resistor">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricPWMdceq" name="ElectricPWMdceq">
        <parameters>
          <parameter unit="-" value="1" type="double" name="tfac::Value"/>
          <parameter unit="-" value="0" type="double" name="uel10::Value"/>
          <parameter unit="ohm" value="0" type="double" name="resist0"/>
          <parameter unit="ohm" value="10" type="double" name="resist1"/>
          <parameter unit="V" value="0.001" type="double" name="umin"/>
          <parameter unit="V" value="1000" type="double" name="umax"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="tfac"/>
          <port nodetype="NodeElectric" name="Pel1"/>
          <port nodetype="NodeElectric" name="Pel2"/>
        </ports>
        <hopsangui>
          <pose x="2188" y="2472" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricPWMdceq" displayname="ElectricPWMdceq">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalConstant" name="Constant">
        <parameters>
          <parameter unit="-" value="0.00001" type="double" name="y::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="y"/>
        </ports>
        <hopsangui>
          <pose x="2103.695329" y="2137.060724" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalConstant" displayname="Constant">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricUsensor" name="Voltage_sensor">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="-" value="0" type="double" name="Puout::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="Puout"/>
          <port nodetype="NodeElectric" name="Pel1"/>
        </ports>
        <hopsangui>
          <pose x="2111" y="2363.685855" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricUsensor" displayname="Voltage_sensor">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalMultiply" name="Multiply_1">
        <parameters>
          <parameter unit="-" value="1" type="double" name="in1::Value"/>
          <parameter unit="-" value="1" type="double" name="in2::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="out"/>
          <port nodetype="NodeSignal" name="in1"/>
          <port nodetype="NodeSignal" name="in2"/>
        </ports>
        <hopsangui>
          <pose x="2333" y="2296" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalMultiply" displayname="Multiply_1">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricCapacitance2" name="Capacitance">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="V" value="0" type="double" name="Pel2::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel2::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel2::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel2::CharImpedance"/>
          <parameter unit="(A s)/V" value="1e-005" type="double" name="Cc"/>
          <parameter unit="" value="0.3" type="double" name="alpha"/>
        </parameters>
        <ports>
          <port nodetype="NodeElectric" name="Pel1"/>
          <port nodetype="NodeElectric" name="Pel2"/>
        </ports>
        <hopsangui>
          <pose x="2316" y="2481.012899" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricCapacitance2" displayname="Capacitance">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalRamp" name="Ramp">
        <parameters>
          <parameter unit="-" value="0" type="double" name="y_0::Value"/>
          <parameter unit="-" value="1" type="double" name="y_A::Value"/>
          <parameter unit="-" value="1" type="double" name="t_start::Value"/>
          <parameter unit="-" value="5" type="double" name="t_end::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="out"/>
        </ports>
        <hopsangui>
          <pose x="1972" y="2398" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalRamp" displayname="Ramp">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalSink" name="Scope_1">
        <parameters>
          <parameter unit="-" value="0" type="double" name="in_bottom::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="in_right"/>
          <port nodetype="NodeSignal" name="in"/>
          <port nodetype="NodeSignal" name="in_bottom"/>
        </ports>
        <hopsangui>
          <pose x="2585.749737" y="2324.312039" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalSink" displayname="Scope_1">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalSink" name="Scope_2">
        <parameters>
          <parameter unit="-" value="0" type="double" name="in_bottom::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="in_right"/>
          <port nodetype="NodeSignal" name="in"/>
          <port nodetype="NodeSignal" name="in_bottom"/>
        </ports>
        <hopsangui>
          <pose x="2513.499474" y="2216.060724" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalSink" displayname="Scope_2">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalSink" name="Scope_3">
        <parameters>
          <parameter unit="-" value="0" type="double" name="in_bottom::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="in_right"/>
          <port nodetype="NodeSignal" name="in"/>
          <port nodetype="NodeSignal" name="in_bottom"/>
        </ports>
        <hopsangui>
          <pose x="2583.812566" y="2381.436645" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalSink" displayname="Scope_3">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalDivide" name="Divide">
        <parameters>
          <parameter unit="-" value="0" type="double" name="in1::Value"/>
          <parameter unit="-" value="0" type="double" name="in2::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="out"/>
          <port nodetype="NodeSignal" name="in1"/>
          <port nodetype="NodeSignal" name="in2"/>
        </ports>
        <hopsangui>
          <pose x="2410.812566" y="2213.685855" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalDivide" displayname="Divide">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricIsensor" name="Current_sensor_1">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="-" value="0" type="double" name="Piout::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="Piout"/>
          <port nodetype="NodeElectric" name="Pel1"/>
        </ports>
        <hopsangui>
          <pose x="2239.5" y="2459.75" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricIsensor" displayname="Current_sensor_1">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricUsource" name="Voltage_Source_1">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="-" value="0" type="double" name="uin::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="uin"/>
          <port nodetype="NodeElectric" name="Pel1"/>
        </ports>
        <hopsangui>
          <pose x="2429.187434" y="2528.689013" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricUsource" displayname="Voltage_Source_1">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalAdd" name="Add">
        <parameters>
          <parameter unit="-" value="0" type="double" name="in1::Value"/>
          <parameter unit="-" value="0" type="double" name="in2::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="out"/>
          <port nodetype="NodeSignal" name="in1"/>
          <port nodetype="NodeSignal" name="in2"/>
        </ports>
        <hopsangui>
          <pose x="2380.687961" y="2169.310987" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalAdd" displayname="Add">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalMultiply" name="Multiply">
        <parameters>
          <parameter unit="-" value="1" type="double" name="in1::Value"/>
          <parameter unit="-" value="1" type="double" name="in2::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="out"/>
          <port nodetype="NodeSignal" name="in1"/>
          <port nodetype="NodeSignal" name="in2"/>
        </ports>
        <hopsangui>
          <pose x="2142" y="2288.123553" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalMultiply" displayname="Multiply">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricUsensor" name="Voltage_sensor_1">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="-" value="0" type="double" name="Puout::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="Puout"/>
          <port nodetype="NodeElectric" name="Pel1"/>
        </ports>
        <hopsangui>
          <pose x="2280.437697" y="2416.060724" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricUsensor" displayname="Voltage_sensor_1">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricUsource" name="Voltage_Source">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="-" value="12" type="double" name="uin::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="uin"/>
          <port nodetype="NodeElectric" name="Pel1"/>
        </ports>
        <hopsangui>
          <pose x="2048" y="2526" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricUsource" displayname="Voltage_Source">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricUsensor" name="Voltage_sensor_2">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="-" value="0" type="double" name="Puout::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="Puout"/>
          <port nodetype="NodeElectric" name="Pel1"/>
        </ports>
        <hopsangui>
          <pose x="2471" y="2422.874342" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricUsensor" displayname="Voltage_sensor_2">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="SignalGain" name="Gain">
        <parameters>
          <parameter unit="-" value="0" type="double" name="in::Value"/>
          <parameter unit="-" value="-1" type="double" name="k::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="in"/>
          <port nodetype="NodeSignal" name="out"/>
        </ports>
        <hopsangui>
          <pose x="2070.187434" y="2312.378026" flipped="false" a="270"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="SignalGain" displayname="Gain">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <component typename="ElectricIsensor" name="Current_sensor">
        <parameters>
          <parameter unit="V" value="0" type="double" name="Pel1::Voltage"/>
          <parameter unit="A" value="0" type="double" name="Pel1::Current"/>
          <parameter unit="V" value="0" type="double" name="Pel1::WaveVariable"/>
          <parameter unit="V/A" value="0" type="double" name="Pel1::CharImpedance"/>
          <parameter unit="-" value="0" type="double" name="Piout::Value"/>
        </parameters>
        <ports>
          <port nodetype="NodeSignal" name="Piout"/>
          <port nodetype="NodeElectric" name="Pel1"/>
        </ports>
        <hopsangui>
          <pose x="2089.748684" y="2459.625132" flipped="false" a="0"/>
          <nametext position="0" visible="0"/>
          <animation flowspeed="100"/>
          <hopsanobjectappearance version="0.3">
            <modelobject typename="ElectricIsensor" displayname="Current_sensor">
              <ports/>
            </modelobject>
          </hopsanobjectappearance>
        </hopsangui>
      </component>
      <textboxwidget>
        <hopsangui>
          <pose x="1974.000000" y="1991.000000"/>
          <textobject fontcolor="#556b2f" text="Test model for the PWM controller. &#xa;This is an equvalent DC components that mimic the behavour of a pulse width modulator. &#xa;The input signal should be between 0 and 1. The output current is adjusted to remove &#xa;the unwanted power losses, hence there is no preservation of current." font="Calibri,12,-1,0,50,0,0,0,0,0"/>
          <size width="593.000000" height="100.000000"/>
          <line width="2.000000" visible="1" style="solidline"/>
        </hopsangui>
      </textboxwidget>
      <textboxwidget>
        <hopsangui>
          <pose x="2487.000000" y="2166.000000"/>
          <textobject fontcolor="#556b2f" text="Efficiency" font="Calibri,12,-1,0,50,0,0,0,0,0"/>
          <size width="70.000000" height="29.941382"/>
          <line width="2.000000" visible="1" style="solidline"/>
        </hopsangui>
      </textboxwidget>
    </objects>
    <connections>
      <connect endport="Pel1" endcomponent="ElectricPWMdceq" startport="Pel1" startcomponent="Voltage_Source">
        <hopsangui>
          <coordinates>
            <coordinate x="2048.00000000000000000000" y="2504.00000000000000000000"/>
            <coordinate x="2048.00000000000000000000" y="2459.75000000000000000000"/>
            <coordinate x="2152.50000000000000000000" y="2459.75000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel1" endcomponent="Voltage_Source_1" startport="Pel2" startcomponent="Resistor">
        <hopsangui>
          <coordinates>
            <coordinate x="2429.18743399999993926031" y="2459.62513200000012147939"/>
            <coordinate x="2429.18743399999993926031" y="2459.62513200000012147939"/>
            <coordinate x="2429.18743399999993926031" y="2506.68901300000015908154"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel1" endcomponent="Capacitance" startport="Pel2" startcomponent="ElectricPWMdceq">
        <hopsangui>
          <coordinates>
            <coordinate x="2223.50000000000000000000" y="2459.75000000000000000000"/>
            <coordinate x="2239.00000000000000000000" y="2459.75000000000000000000"/>
            <coordinate x="2239.00000000000000000000" y="2459.74999973711965139955"/>
            <coordinate x="2295.50000000000000000000" y="2459.74999973711965139955"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel1" endcomponent="Resistor" startport="Pel2" startcomponent="Capacitance">
        <hopsangui>
          <coordinates>
            <coordinate x="2336.50000000000000000000" y="2459.74999973711965139955"/>
            <coordinate x="2360.00000000000000000000" y="2459.74999973711965139955"/>
            <coordinate x="2360.00000000000000000000" y="2459.62513200000012147939"/>
            <coordinate x="2377.18743399999993926031" y="2459.62513200000012147939"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel1" endcomponent="ElectricPWMdceq" startport="Pel1" startcomponent="Voltage_sensor">
        <hopsangui>
          <coordinates>
            <coordinate x="2111.00000000000000000000" y="2381.68585500000017418643"/>
            <coordinate x="2111.00000000000000000000" y="2459.75000000000000000000"/>
            <coordinate x="2152.50000000000000000000" y="2459.75000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel1" endcomponent="Current_sensor_1" startport="Pel2" startcomponent="ElectricPWMdceq">
        <hopsangui>
          <coordinates>
            <coordinate x="2223.50000000000000000000" y="2459.75000000000000000000"/>
            <coordinate x="2240.00000000000000000000" y="2459.75000000000000000000"/>
            <coordinate x="2240.00000000000000000000" y="2459.75000000000000000000"/>
            <coordinate x="2221.50000000000000000000" y="2459.75000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel2" endcomponent="ElectricPWMdceq" startport="Pel1" startcomponent="Voltage_sensor_1">
        <hopsangui>
          <coordinates>
            <coordinate x="2280.43769699999984368333" y="2434.06072399999993649544"/>
            <coordinate x="2280.43769699999984368333" y="2459.75000000000000000000"/>
            <coordinate x="2223.50000000000000000000" y="2459.75000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in2" endcomponent="Multiply_1" startport="Piout" startcomponent="Current_sensor_1">
        <hopsangui>
          <coordinates>
            <coordinate x="2239.50000000000000000000" y="2441.75000000000000000000"/>
            <coordinate x="2239.50000000000000000000" y="2252.50000000000000000000"/>
            <coordinate x="2333.00000000000000000000" y="2252.50000000000000000000"/>
            <coordinate x="2333.00000000000000000000" y="2283.50000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in1" endcomponent="Multiply_1" startport="Puout" startcomponent="Voltage_sensor_1">
        <hopsangui>
          <coordinates>
            <coordinate x="2280.43769699999984368333" y="2398.06072399999993649544"/>
            <coordinate x="2280.43769699999984368333" y="2296.00000000000000000000"/>
            <coordinate x="2320.50000000000000000000" y="2296.00000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in1" endcomponent="Multiply" startport="Puout" startcomponent="Voltage_sensor">
        <hopsangui>
          <coordinates>
            <coordinate x="2111.00000000000000000000" y="2345.68585500000017418643"/>
            <coordinate x="2111.00000000000000000000" y="2288.12355299999990165816"/>
            <coordinate x="2129.50000000000000000000" y="2288.12355299999990165816"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Scope" startport="out" startcomponent="Multiply">
        <hopsangui>
          <coordinates>
            <coordinate x="2154.50000000000000000000" y="2288.12355299999990165816"/>
            <coordinate x="2489.00000000000000000000" y="2288.12355299999990165816"/>
            <coordinate x="2489.00000000000000000000" y="2261.00000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Scope" startport="out" startcomponent="Multiply_1">
        <hopsangui>
          <coordinates>
            <coordinate x="2345.50000000000000000000" y="2296.00000000000000000000"/>
            <coordinate x="2390.00000000000000000000" y="2296.00000000000000000000"/>
            <coordinate x="2390.00000000000000000000" y="2261.00000000000000000000"/>
            <coordinate x="2489.00000000000000000000" y="2261.00000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Scope_1" startport="Puout" startcomponent="Voltage_sensor">
        <hopsangui>
          <coordinates>
            <coordinate x="2111.00000000000000000000" y="2345.68585500000017418643"/>
            <coordinate x="2111.00000000000000000000" y="2324.31203899999991335790"/>
            <coordinate x="2565.74973700000009557698" y="2324.31203899999991335790"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Scope_1" startport="Puout" startcomponent="Voltage_sensor_1">
        <hopsangui>
          <coordinates>
            <coordinate x="2280.43769699999984368333" y="2398.06072399999993649544"/>
            <coordinate x="2280.43769699999984368333" y="2324.31203899999991335790"/>
            <coordinate x="2565.74973700000009557698" y="2324.31203899999991335790"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel1" endcomponent="Current_sensor" startport="Pel1" startcomponent="Voltage_Source">
        <hopsangui>
          <coordinates>
            <coordinate x="2048.00000000000000000000" y="2504.00000000000000000000"/>
            <coordinate x="2048.00000000000000000000" y="2459.62513200000012147939"/>
            <coordinate x="2071.74868400000013934914" y="2459.62513200000012147939"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Gain" startport="Piout" startcomponent="Current_sensor">
        <hopsangui>
          <coordinates>
            <coordinate x="2089.74868400000013934914" y="2441.62513200000012147939"/>
            <coordinate x="2089.74868400000013934914" y="2387.62565791296219686046"/>
            <coordinate x="2070.18743399999993926031" y="2387.62565791296219686046"/>
            <coordinate x="2070.18743399999993926031" y="2324.87802599999986341572"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in2" endcomponent="Multiply" startport="out" startcomponent="Gain">
        <hopsangui>
          <coordinates>
            <coordinate x="2070.18743399999993926031" y="2299.87802599999986341572"/>
            <coordinate x="2070.18743399999993926031" y="2251.99894733926066692220"/>
            <coordinate x="2142.00000000000000000000" y="2251.99894733926066692220"/>
            <coordinate x="2142.00000000000000000000" y="2275.62355299999990165816"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Scope_2" startport="out" startcomponent="Divide">
        <hopsangui>
          <coordinates>
            <coordinate x="2423.31256600000006073969" y="2213.68585500000017418643"/>
            <coordinate x="2493.49947400000019115396" y="2213.68585500000017418643"/>
            <coordinate x="2493.49947400000019115396" y="2216.06072399999993649544"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in2" endcomponent="Divide" startport="out" startcomponent="Add">
        <hopsangui>
          <coordinates>
            <coordinate x="2393.18796100000008664210" y="2169.31098699999984091846"/>
            <coordinate x="2410.81256600000006073969" y="2169.31098699999984091846"/>
            <coordinate x="2410.81256600000006073969" y="2201.18585500000017418643"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in2" endcomponent="Add" startport="y" startcomponent="Constant">
        <hopsangui>
          <coordinates>
            <coordinate x="2116.19532900000012887176" y="2137.06072399999993649544"/>
            <coordinate x="2380.68796100000008664210" y="2137.06072399999993649544"/>
            <coordinate x="2380.68796100000008664210" y="2156.81098699999984091846"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="Pel2" endcomponent="Resistor" startport="Pel1" startcomponent="Voltage_sensor_2">
        <hopsangui>
          <coordinates>
            <coordinate x="2471.00000000000000000000" y="2440.87434200000006967457"/>
            <coordinate x="2471.00000000000000000000" y="2459.62513200000012147939"/>
            <coordinate x="2429.18743399999993926031" y="2459.62513200000012147939"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Scope_3" startport="Puout" startcomponent="Voltage_sensor_1">
        <hopsangui>
          <coordinates>
            <coordinate x="2280.43769699999984368333" y="2398.06072399999993649544"/>
            <coordinate x="2280.43769699999984368333" y="2381.43664500000022599124"/>
            <coordinate x="2563.81256600000006073969" y="2381.43664500000022599124"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in" endcomponent="Scope_3" startport="Puout" startcomponent="Voltage_sensor_2">
        <hopsangui>
          <coordinates>
            <coordinate x="2471.00000000000000000000" y="2404.87434200000006967457"/>
            <coordinate x="2471.00000000000000000000" y="2381.43664500000022599124"/>
            <coordinate x="2563.81256600000006073969" y="2381.43664500000022599124"/>
          </coordinates>
          <geometries>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in1" endcomponent="Add" startport="out" startcomponent="Multiply">
        <hopsangui>
          <coordinates>
            <coordinate x="2154.50000000000000000000" y="2288.12355299999990165816"/>
            <coordinate x="2238.00000000000000000000" y="2288.12355299999990165816"/>
            <coordinate x="2238.00000000000000000000" y="2169.31098699999984091846"/>
            <coordinate x="2368.18796100000008664210" y="2169.31098699999984091846"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="in1" endcomponent="Divide" startport="out" startcomponent="Multiply_1">
        <hopsangui>
          <coordinates>
            <coordinate x="2345.50000000000000000000" y="2296.00000000000000000000"/>
            <coordinate x="2374.00000000000000000000" y="2296.00000000000000000000"/>
            <coordinate x="2374.00000000000000000000" y="2213.68585500000017418643"/>
            <coordinate x="2398.31256600000006073969" y="2213.68585500000017418643"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
            <geometry>vertical</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
      <connect endport="tfac" endcomponent="ElectricPWMdceq" startport="out" startcomponent="Ramp">
        <hopsangui>
          <coordinates>
            <coordinate x="1984.50000000000000000000" y="2398.00000000000000000000"/>
            <coordinate x="2188.00000000000000000000" y="2398.00000000000000000000"/>
            <coordinate x="2188.00000000000000000000" y="2447.50000000000000000000"/>
          </coordinates>
          <geometries>
            <geometry>vertical</geometry>
            <geometry>horizontal</geometry>
          </geometries>
          <style>solid</style>
        </hopsangui>
      </connect>
    </connections>
  </system>
</hopsanmodelfile>
